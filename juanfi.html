<!DOCTYPE html>
<html lang="en">

<head>
	<meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0">
	<meta http-equiv="Pragma" content="no-cache">
	<meta http-equiv="Expires" content="-1">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
	<link rel="icon" type="image/x-icon" href="favicon.ico">
	<title>JuanFi Extended</title>

	<link rel="stylesheet" href="assets/css/bootstrap.min.css?v=$(ip)">
	<link rel="stylesheet" href="assets/css/core.css?v=$(ip)">
	<link rel="stylesheet" href="assets/css/JuanFi.css?v=$(ip)">
	<link rel="stylesheet" href="assets/lib/bootstrap-icons.css?v=$(ip)">
	<link rel="stylesheet" href="assets/css/toast.min.css?v=$(ip)">

	<script src="assets/js/jquery.min.js?v=$(ip)" defer></script>
	<script src="assets/js/eload.js?v=$(ip)" defer></script>
	<script src="assets/js/config.js?v=$(ip)" defer></script>
	<script src="assets/js/bootstrap.bundle.min.js?v=$(ip)" defer></script>
	<script src="assets/js/cache.js?v=$(ip)" defer></script>
	<script src="assets/js/core.js?v=$(ip)" defer></script>
	<script src="assets/js/pako.min.js?v=$(ip)" defer></script>

	<script>
		var loginError = "";
		var mac = "$(mac)";
		var uIp = "$(ip)";
		var hotspotAddress = "$(server-address)";
		var interfaceName = "$(interface-name)";
		var remainingTimer = null;
	</script>

</head>

<body class="col-xxl-3 col-xl-4 col-lg-6 col-md-7 col-sm-8 col-12 mx-auto pt-3 px-2">
	<div id="loaderDiv" class="spinner">
		<img src="assets/loading.svg" />
	</div>
	<div class="d-flex flex-column gap-2">
		<div class="d-flex justify-content-between align-items-center container">
			<div class="d-flex flex-column gap-0 align-items-center">
				<img src="assets/MainPic.PNG" class="img-fluid banner" />
			</div>
			<div class="d-flex flex-column gap-3 text-end">
				<small id="ipInfo" class="juanfi-default-text small">Loading</small>
				<small id="macInfo" class="juanfi-default-text small">Loading</small>
				<small id="voucherCode" class="juanfi-default-text small">Loading</small>
			</div>

		</div>
		<div class="container px-2 py-1 d-flex justify-content-around gap-2 align-items-center">
			<div class="d-flex justify-content-between gap-2 align-items-center">
				<i class="bi bi-cloud-download juanfi-primary-text"></i>
				<small class="small">$(bytes-in-nice)</small>
			</div>
			<div>
				<small class="blinking2" id="connectionStatus">Loading...</small>
			</div>
			<div class="d-flex justify-content-between gap-2 align-items-center">
				<i class="bi bi-cloud-upload juanfi-primary-text"></i>
				<small class="small">$(bytes-out-nice)</small>
			</div>
		</div>

		<div class="container text-center px-2 py-1">
			<h2 style="font-family: 'Courier New', monospace;" id="remainTime"
				class="fw-bolder juanfi-primary-text my-0">Loading...</h1>
		</div>
		<div id="useVoucherContainer" class="container d-flex justify-content-between align-items-center gap-2">
			<input type="voucher" required class="form-control w-100" id="voucherInput" aria-describedby="voucherHelp"
				placeholder="Voucher code here..">
			<div>
				<button type="button" id="connectBtn" class="btn btn-info fullwidth">
					CONSUME
				</button>
			</div>
		</div>
		<div class="container d-flex flex-column gap-0">
			<ul class="nav nav-tabs" id="myTab" role="tablist">

				<li class="nav-item" role="presentation">
					<button class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home"
						type="button" role="tab">
						<i class="bi bi-house-door me-1 juanfi-primary-text"></i>
						Home
					</button>
				</li>

				<li id="rewardDtlsBtn" class="nav-item" role="presentation">
					<button class="nav-link" id="points-tab" data-bs-toggle="tab" data-bs-target="#points" type="button"
						role="tab">
						<i class="bi bi-heart me-1 juanfi-primary-text"></i>
						Points
					</button>
				</li>

				<li class="nav-item" role="presentation">
					<button class="nav-link" id="history-tab" data-bs-toggle="tab" data-bs-target="#history"
						type="button" role="tab">
						<i class="bi bi-clock-history me-1 juanfi-primary-text"></i>
						History
					</button>
				</li>
			</ul>
			<div class="tab-content mt-3" id="myTabContent">
				<div class="tab-pane fade show active" id="home" role="tabpanel">
					<div class="d-flex flex-column gap-3 pt-2">
						<div id="vendoSelectDiv" class="col-sm-12">
							<label for="exampleFormControlSelect2">Select Vendo</label>
							<select class="form-control fullwidth" name="vendoSelected" id="vendoSelected">
							</select>
						</div>

						<button type="button" id="insertBtn" onclick="insertBtnAction(); return false"
							class="btn btn-primary w-100 py-3" data-insert-type="extend" data-toggle="modal">
							INSERT COIN
						</button>
						<button type="button" id="resumeTimeBtn" class="btn btn-success w-100">
							RESUME TIME
						</button>
						<button type="button" id="pauseTimeBtn" class="btn btn-danger w-100">
							PAUSE TIME
						</button>
						<table border="1" cellpadding="5" cellspacing="0" id="rateTable"
							style="font-size: 11px !important;">
							<thead>
								<tr>
									<th>Rate</th>
									<th>Price</th>
									<th>Validity</th>
									<th>Expiry</th>
								</tr>
							</thead>
							<tbody></tbody>
						</table>

						<button onclick="clearAllData();" type="button" id="refreshBtn" class="btn btn-info w-100">
							REFRESH
						</button>
						<div class="d-flex justify-content-between gap-2">
							<button type="button" id="chargingBtn" onclick="chargingBtnAction(); return false"
								class="btn btn-primary w-100">
								CHARGING STATION
							</button>
							<button type="button" id="eloadBtn" onclick="eloadBtnAction(); return false"
								class="btn btn-primary w-100">
								E-LOAD
							</button>
						</div>
					</div>

				</div>

				<div class="tab-pane fade" id="points" role="tabpanel">
					<div id="rewardDtls" class="d-flex flex-column gap-0">
						<div class="d-flex flex-column align-items-center gap-2 ">
							<h2 id="rewardPoints">0.00</h2>
							<small class="small juanfi-primary-text">Points Balance</small>
						</div>
						<hr />
						<div class="d-flex justify-content-between gap-2">
							<button type="button" id="spinRedeemBtn" class="btn btn-primary w-100">SPIN</button>
							<button type="button" id="redeemPtsBtn" class="btn btn-primary w-100">CONVERT</button>
						</div>
					</div>
				</div>

				<div class="tab-pane fade" id="history" role="tabpanel">
					<div id="historyContainer" class="d-flex flex-column gap-2">
						<h6>No history</h6>
						<p>Please insert a coin</p>
					</div>

				</div>

			</div>

		</div>

		<div class="modal fade" id="redeemBySpinModal" tabindex="-1" role="dialog"
			aria-labelledby="redeemBySpinModalLabel" aria-hidden="true" data-backdrop="static" data-keyboard="false">
			<div class="modal-dialog modal-dialog-centered" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="redeemBySpinModalLabel">Spin to Redeem</h5>
						<button type="button" class="btn btn-danger" data-bs-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<div class="container-fluid">
							<div class="row mb-3">
								<div class="col-12 text-center">
									<div class="small text-color-white">Reward Point Balance</div>
									<div>
										<img src="assets/img/coin.png" width="20px" height="20px" />
										<span class="availablePointsDisplay text-color-yellow">0.00</span>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-12">
									<small class="text-color-white">Redemption rule: <span class="redeemRatio"
											id="redeemRatio2">1</span> point = 1 spin</small>
								</div>
							</div>
							<div class="spinner-wrapper">
								<canvas id="wheelCanvas" aria-label="Prize wheel"></canvas>
							</div>
							<div id="redeemedValueWrapper" class="row mb-3 hide">
								<div class="col-12">
									<span id="selectedReward" type="number" min="0" step="1" value="0" />
								</div>
							</div>
							<div class="d-flex flex-column gap-3">
								<button type="button" id="spinBtn" class="btn btn-success">Spin</button>
								<button id="spinCancelBtn" type="button" class="btn btn-danger" data-bs-dismiss="modal"
									aria-label="Close">Close</button>
							</div>
						</div>
					</div>
					<div class="modal-footer">

					</div>
				</div>
			</div>
		</div>

		<div class="modal fade" id="redeemModal" tabindex="-1" role="dialog" aria-labelledby="redeemModalLabel"
			aria-hidden="true" data-backdrop="static" data-keyboard="false">
			<div class="modal-dialog modal-dialog-centered" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="redeemModalLabel">Redeem Reward Points</h5>
						<button type="button" class="btn btn-danger" data-bs-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<div class="container-fluid">
							<div class="row mb-3">
								<div class="col-12 text-center">
									<div class="small text-color-white">Available Points</div>
									<div>
										<img src="assets/img/coin.png" width="20px" height="20px" />
										<span class="availablePointsDisplay text-color-yellow">0.00</span>
									</div>
								</div>
							</div>

							<div class="row mb-2">
								<div class="col-12">
									<label for="redeemSlider" class="text-color-white">Select points to
										redeem</label>
									<input id="redeemSlider" type="range" class="form-control-range" min="0"
										value="1" />
								</div>
							</div>

							<div class="row mb-3">
								<div class="col-6 text-left">
									<small class="text-color-white">Selected</small>
									<input id="selectedPointsInput" type="number" min="0" step="1" value="0"
										class="form-control" style="width:100px; display:inline-block" />

								</div>
								<div class="col-6 text-right">
									<small class="text-color-white">Estimated Value</small>
									<div id="estimatedValueDisplay"
										style="font-size:20px; font-weight:bold; color:#28a745">
										PHP 0.00</div>
								</div>
							</div>

							<div class="row">
								<div class="col-12">
									<small class="text-color-white">Redemption rule: <span class="redeemRatio"
											id="redeemRatio">1</span> point = PHP 1.00</small>
								</div>
							</div>
						</div>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-danger" data-bs-dismiss="modal"
							aria-label="Close">Close</button>
						<button type="button" id="confirmRedeemBtn" class="btn btn-success">Redeem</button>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade" id="insertCoinModal" style="z-index: 1500" data-bs-backdrop="static"
			data-bs-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="insertCoinModalTitle"
			aria-hidden="true">
			<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="insertCoinModalTitle">Please insert the coin</h5>
					</div>
					<div class="modal-body">
						<div class="progress" style="margin-bottom: 20px">
							<div id="progressDiv" class="progress-bar progress-bar-striped progress-bar-animated"
								role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"
								style="width: 100%; height: 30px"></div>
						</div>

						<div id="noticeDiv" style="display: none">
							<center>
								<h4 id="noticeText">Coin is reading, please wait</h4>
							</center>
						</div>

						<div class="inscoin">
							<center>
								<div class="inscoinholder"
									style="border: 2px solid #576574; padding: 5px; height: 90px; border-radius: 3px">
									<span style="color: #747d8c">Your code is</span><br>
									<span id="codeGeneratedBlock">
										<span id="codeGenerated"
											style="font-size: 25px; font-weight: bold; color: #4cd137">*****</span>
									</span>
								</div>

								<div class="inscoinholder">
									<span id="totalCoin"
										style="font-size: 20px; font-weight: bold; color: #fff">0</span><span
										style="font-size: 20px; font-weight: bold; color: #fff">.00 Php</span><br>
									<span style="color: #747d8c">Coin</span>
								</div>

								<div class="inscoinholder" id="totalTimeDiv">
									<span id="totalTime"
										style="font-size: 20px; font-weight: bold; color: #fff"></span><br>
									<span style="color: #747d8c">Time: </span>
								</div>

								<div class="inscoinholder" id="expectedCoinDiv" style="display: none">
									<span id="expectedCoin"
										style="font-size: 20px; font-weight: bold; color: #fff"></span><br>
									<span style="color: #747d8c">Expected Coin </span>
								</div>
							</center>
						</div>



					</div>
					<div class="modal-footer">
						<button type="button" id="saveVoucherButton" data-save-type="extend"
							onclick="saveVoucherBtnAction(); return false" class="btn btn-primary">
							Done
						</button>
						<button type="button" id="cncl" class="btn btn-danger" data-bs-dismiss="modal"
							aria-label="Close">Cancel</button>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade" id="promoRatesModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
			data-backdrop="static" data-keyboard="false">
			<div class="modal-dialog modal-dialog-centered" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Promo Rates</h5>
						<button type="button" class="btn btn-danger" data-bs-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<center>
							<div id="rateTypeDiv" class="hide">
								<label for="rateType" class="rate-title"><b>Rate Type</b></label>
								<select name="rateType" class="form-control" id="rateType"
									onChange="onRateTypeChange(this)">
									<option value="1">Internet</option>
									<option value="2">Charging</option>
								</select>
							</div>
						</center>
						<br />
						<center>
							<div id="ratesBody">
								<div class="spinner-border" role="status">
									<span class="visually-hidden">Loading...</span>
								</div>
							</div>
							<div id="totalTime"></div>
						</center>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-danger" data-bs-dismiss="modal"
							aria-label="Close">Dismiss</button>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade" id="chargingModal" tabindex="1" role="dialog" aria-labelledby="exampleModalLabel"
			aria-hidden="true" data-backdrop="static" data-keyboard="false">
			<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">Charging Station</h5>
						<button type="button" class="btn btn-danger" data-bs-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<center>
							<div id="chargingBody"></div>
						</center>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>

		<div class="modal fade" id="eloadModal" tabindex="1" role="dialog" aria-labelledby="exampleModalLabel"
			aria-hidden="true" data-backdrop="static" data-keyboard="false">
			<div class="modal-dialog modal-dialog-centered modal-lg" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="exampleModalLabel">E-LOAD</h5>
						<button type="button" class="btn btn-danger" data-bs-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body">
						<center>
							<div id="eloadingBody">
								<h4 id="eloadConfirm" style="display: none"><span
										style="color: #2e86de; text-shadow: 1px 2px 3px #000">CONFIRM YOUR SELECTED
										DETAILS</span></h4>
								<div id="mobileNumDiv" class="input-bottom-space-20px">
									<label for="exampleFormControlSelect2">Mobile #</label>
									<input type="number" class="form-control" id="mobileNo" aria-describedby="mobileNo"
										pattern="\d*" maxlength="11" placeholder="Enter mobile number (Ex: 09182392234)"
										required>
								</div>
								<div id="loadTypeDiv" style="display: none" class="input-bottom-space-20px">
									<label for="exampleFormControlSelect2">Select Load Type</label>
									<select class="form-control" name="loadType" onChange="loadTypeChanged(this)"
										id="loadTypeSelected">
									</select>
								</div>
								<div id="productTypeDiv" style="display: none" class="input-bottom-space-20px">
									<label for="exampleFormControlSelect2">Select Product</label>
									<select class="form-control input-bottom-space-20px" name="productType"
										id="productTypeSelected" onChange="productTypeChanged(this)">
									</select>
									<label for="exampleFormControlSelect2">Price (PHP)</label>
									<input type="text" class="form-control" id="price" aria-describedby="mobileNo"
										disabled>
								</div>
								<br />
								<h5 id="eloadConfirm2" style="display: none;" class="input-bottom-space-20px"><span
										style="color: #2e86de; text-shadow: 1px 2px 3px #000">Please make sure to
										insert
										the
										exact amount <ul style="
									font-size: medium;
									color: white;
									text-align: left;
								">
											<li>In case theres an excess amount or amount is insufficient, it will
												be
												converted to a voucher code and you can use it for your next
												e-Loading
												or
												you can use it on internet service.</li>
										</ul></span></h5>
							</div>
						</center>
					</div>
					<div class="modal-footer">
						<button type="button" id="buyEloadPrevBtn" class="btn btn-danger"
							onclick="buyEloadPrevAction(); return false">Close</button>
						<button type="button" id="buyEloadBtn" onclick="buyEloadAction(); return false"
							class="btn btn-success">Next</button>
					</div>
				</div>
			</div>
		</div>


		<script>
			window.name = "hotspot_status";

			$(if refresh - timeout)
				setInterval(function () {
					if (!insertingCoin) {
						location.reload();
					}
				}, $(refresh - timeout - secs) * 1000);
			$(endif)
		</script>


	</div>

</body>

</html>